//>>built
define("dojo/io/iframe","../_base/config,../_base/json,../_base/kernel,../_base/lang,../_base/xhr,../sniff,../_base/window,../dom,../dom-construct,../query,require,../aspect,../request/iframe".split(","),function(j,k,g,h,i,b,l,n,o,p,q,m,d){dojo.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");var b=d._iframeName,b=b.substring(0,b.lastIndexOf("_")),f=h.delegate(d,{create:function(){return f._frame=d.create.apply(d,arguments)},get:null,post:null,send:function(a){var e,c=i._ioSetArgs(a,
function(){e&&e.cancel()},function(b){var a=null,b=b.ioArgs;try{var c=b.handleAs;"xml"===c||"html"===c?a=e.response.data:(a=e.response.text,"json"===c?a=k.fromJson(a):"javascript"===c&&(a=g.eval(a)))}catch(d){a=d}return a},function(a,b){b.ioArgs._hasError=!0;return a}),b=c.ioArgs,a={method:a.method||"GET",handleAs:"json"===a.handleAs||"javascript"===a.handleAs?"text":a.handleAs,form:a.form,query:a.content,timeout:a.timeout,ioArgs:b};if(j.ioPublish&&g.publish&&!1!==b.args.ioPublish)var f=m.after(d,
"_notifyStart",function(a){a.options.ioArgs===b&&(f.remove(),i._ioNotifyStart(c))},!0);e=d(b.url,a,!0);b._callNext=e._callNext;e.then(function(){c.resolve(c)}).otherwise(function(a){c.ioArgs.error=a;c.reject(a)});return c},_iframeOnload:l.global[b+"_onload"]});h.setObject("dojo.io.iframe",f);return f});