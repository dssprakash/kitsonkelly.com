//>>built
define("dojox/mobile/ToolBarButton","dojo/_base/declare,dojo/_base/lang,dojo/_base/window,dojo/dom-class,dojo/dom-construct,dojo/dom-style,./sniff,./_ItemBase".split(","),function(h,i,j,b,d,e,f,k){var g={};return h("dojox.mobile.ToolBarButton",k,{selected:!1,arrow:"",light:!0,defaultColor:"mblColorDefault",selColor:"mblColorDefaultSel",baseClass:"mblToolBarButton",_selStartMethod:"touch",_selEndMethod:"touch",buildRendering:function(){if(!this.label&&this.srcNodeRef)this.label=this.srcNodeRef.innerHTML;
this.label=i.trim(this.label);this.domNode=this.srcNodeRef&&"SPAN"===this.srcNodeRef.tagName?this.srcNodeRef:d.create("span");this.inherited(arguments);if(this.light&&!this.arrow&&(!this.icon||!this.label))this.labelNode=this.tableNode=this.bodyNode=this.iconParentNode=this.domNode,b.add(this.domNode,this.defaultColor+" mblToolBarButtonBody"+(this.icon?" mblToolBarButtonLightIcon":" mblToolBarButtonLightText"));else{this.domNode.innerHTML="";if("left"===this.arrow||"right"===this.arrow)this.arrowNode=
d.create("span",{className:"mblToolBarButtonArrow mblToolBarButton"+("left"===this.arrow?"Left":"Right")+"Arrow "+this.defaultColor},this.domNode),b.add(this.domNode,"mblToolBarButtonHas"+("left"===this.arrow?"Left":"Right")+"Arrow");this.bodyNode=d.create("span",{className:"mblToolBarButtonBody"},this.domNode);this.tableNode=d.create("table",{cellPadding:"0",cellSpacing:"0",border:"0"},this.bodyNode);var a=this.tableNode.insertRow(-1);this.iconParentNode=a.insertCell(-1);this.labelNode=a.insertCell(-1);
this.iconParentNode.className="mblToolBarButtonIcon";this.labelNode.className="mblToolBarButtonLabel";this.icon&&"none"!==this.icon&&this.label&&(b.add(this.domNode,"mblToolBarButtonHasIcon"),b.add(this.bodyNode,"mblToolBarButtonLabeledIcon"));b.add(this.bodyNode,this.defaultColor);var c=this;setTimeout(function(){c._updateArrowColor()},0);if(!f("webkit")){var e=0;this._timer=setInterval(function(){(c._updateArrowColor()||3<e++)&&clearInterval(c._timer)},500)}}},startup:function(){if(!this._started&&
(this._keydownHandle=this.connect(this.domNode,"onkeydown","_onClick"),this.inherited(arguments),!this._isOnLine))this._isOnLine=!0,this.set("icon",this.icon)},_updateArrowColor:function(){if(this.arrowNode&&!f("ie")){e.set(this.arrowNode,"backgroundColor",e.get(this.bodyNode,"backgroundColor"));var a=e.get(this.bodyNode,"backgroundImage"),c=b.contains(this.bodyNode,this.defaultColor)?this.defaultColor:this.selColor;if("none"===a||g[c])return!1;a=".mblToolBarButtonArrow."+c+"{background-image:"+a.replace(/\(top,/,
"(top left,").replace(/0% 0%, 0% 100%/,"0% 0%, 100% 100%").replace(/50% 0%/,"0% 0%")+";}";g[c]=1;d.create("style",{innerHTML:a},j.doc.head,"first")}return!0},_onClick:function(a){a&&"keydown"===a.type&&13!==a.keyCode||!1===this.onClick(a)||this.defaultClickAction(a)},onClick:function(){},_setLabelAttr:function(a){this.inherited(arguments);b.toggle(this.tableNode,"mblToolBarButtonText",a)},_setSelectedAttr:function(a){this.inherited(arguments);a?(b.replace(this.bodyNode,this.selColor,this.defaultColor),
this.arrowNode&&b.replace(this.arrowNode,this.selColor,this.defaultColor)):(b.replace(this.bodyNode,this.defaultColor,this.selColor),this.arrowNode&&b.replace(this.arrowNode,this.defaultColor,this.selColor));b.toggle(this.domNode,"mblToolBarButtonSelected",a);b.toggle(this.bodyNode,"mblToolBarButtonBodySelected",a);this._updateArrowColor()}})});